<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>GeNN: Variables in GeNN</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<!--This is Google Analytics Tracking Code-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-57354659-1', 'auto');
  ga('send', 'pageview');
</script>
<!--End of Google Analytics Tracking Code-->
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em; padding-bottom: 0.5em;" id="projectlogo"><img alt="Logo" src="../../GeNN-logo-55px.gif"/></td>
  <td style="padding-left: 3.5em; padding-bottom: 0.5em;">
   <div id="projectname">GeNN
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">GPU enhanced Neuronal Networks (GeNN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/d4b/ListOfVariables.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Variables in GeNN </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>There are different types of variables that users of GeNN should be aware of and should know how to use.</p>
<h1><a class="anchor" id="modelVars"></a>
Neuron and Synapse variables</h1>
<p>One type of variables are those that originate from a neuron model type, weightupdate model type or post-synaptic model type. The core name of the variable is defined when the model type is introduced, i.e. with a statement such as </p><div class="fragment"><div class="line"><a class="code" href="../../d3/d64/structneuronModel.html">neuronModel</a> model;</div>
<div class="line">model.<a class="code" href="../../d3/d64/structneuronModel.html#ad364183af0da111f989116e0b8b9d4bd">varNames</a>.push_back(String<span class="stringliteral">&quot;x&quot;</span>));</div>
<div class="line">model.<a class="code" href="../../d3/d64/structneuronModel.html#a2ae4ddde7aa750cddfff8a4f4491d9c1">varTypes</a>.push_back(String(<span class="stringliteral">&quot;double&quot;</span>));</div>
<div class="line">...</div>
<div class="line">int myModel= <a class="code" href="../../d5/d60/utils_8h.html#a2bd39d11c2cd6cec9bf9b81c183b6cd4">nModels</a>.size();</div>
<div class="line"><a class="code" href="../../d5/d60/utils_8h.html#a2bd39d11c2cd6cec9bf9b81c183b6cd4">nModels</a>.push_back(model);</div>
</div><!-- fragment --><p> This declares that whenever the defined model type of cardinal number <code>myModel</code> is used, there will be a variable of core name <code>x</code>. The full GeNN name of this variable is obtained by directly concatenating the core name with the name of the neuron population in which the model type has been used, i.e. after a definition </p><div class="fragment"><div class="line">networkModel.addNeuronPopulation(<span class="stringliteral">&quot;EN&quot;</span>, n, myModel, ...);</div>
</div><!-- fragment --><p> there will be a variable <code>xEN</code> of type <code>double*</code> available in the global namespace of the simulation program. GeNN will pre-allocated this C array to the correct size of elements corresponding to the size of the neuron population, <code>n</code> in the example above. GeNN will also free these variables when the provided function <code>freeMem()</code> is called. Users can otherwise manipulate these variable arrays as they wish. For convenience, GeNN provides functions <code>pullXXfromDevice()</code> and <code>pushXXtoDevice()</code> to copy the variables associated to a neuron population <code>XX</code> from the device into host memory and vice versa. E.g. </p><div class="fragment"><div class="line">pullENfromDevice();</div>
</div><!-- fragment --><p> would copy the C array xEN from device memory into host memory (and any other variables that the neuron type of the population EN may have).</p>
<p>The user can also directly use CUDA memory copy commands independent of the provided convenience function. The relevant device pointers for all variables that exist in host memory have the same name prefixed with <code>d_</code>. For example, the copy command that would be contained in <code>pullENfromDevice()</code> might look like </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size;      </div>
<div class="line">size = <span class="keyword">sizeof</span>(double) * nEN;</div>
<div class="line">cudaMemcpy(xEN, d_xEN, size, cudaMemcpyDeviceToHost);</div>
</div><!-- fragment --><p> where <code>n</code> is an integer containing the population size of the EN neuron population.</p>
<p>The same convention as for neuron variables applies for the variables of synapse groups, both for those originating from weightupdate models and from post-synaptic models, e.g. the variables in type <code>NSYNAPSE</code> contain the variable <code>g</code> of type float. Then, after </p><div class="fragment"><div class="line">networkModel.addSynapsePopulation(<span class="stringliteral">&quot;ENIN&quot;</span>, <a class="code" href="../../dc/d25/modelSpec_01_07dhcp-liversidge20_8anu_8edu_8au's_01conflicted_01copy_012014-12-13_08_8h.html#a1110b98e1962bdb6bcc86b647b1431d4">NSYNAPSE</a>, ...);</div>
</div><!-- fragment --><p> there will be a global variable of type <code>float*</code> with the name <code>gENIN</code> that is pre-allocated to the right size. There will also be a matching device pointer with the name <code>d_gENIN</code>. </p><dl class="section note"><dt>Note</dt><dd>The content of <code>gENIN</code> needs to be interpreted differently for DENSE connectivity and sparse matrix based SPARSE connectivity representations. For DENSE connectivity <code>gENIN</code> would contain "n_pre" times "n_post" elements, ordered along the pre-synaptic neuronsas the major dimension, i.e. the value of <code>gENIN</code> for the ith pre-synaptic neuron and the jth post-synaptic neuron would be <code>gENIN[i*n_post+j]</code>. The arrangement of values in the SPARSE representation is explained in section <a class="el" href="../../da/d5d/sect3.html#subsect32">Connectivity types</a></dd></dl>
<h1><a class="anchor" id="predefinedVars"></a>
Pre-defined Variables in GeNN</h1>
<p>In addition to the explicitly declared neuron, weightupdate and post-synaptic variables there are some variables that are built-in and modified in a predefined way by GeNN. These variables are used for intermediary calculations and communication between different parts of the generated code. They can be used in the user defined code but no other variables should be defined with these names.</p>
<ul>
<li><code>addtoinSyn</code> is a local variable which is used for updating synaptic input. The way it is modified is defined by the weightupdate model, therefore if a user defines her own model she should update this variable to contain the input to the post-synaptic model. At the end of the synaptic update, its value is copied back to the d_inSyn&lt;synapsePopulation&gt; variables which will are used in the next step of the neuron update to provide the input to the post-snaptic neurons.</li>
<li><code>Isyn</code> is a local variable which defines the (summed) input current to a neuron. It is typically the sum of any explicit current input and all synaptic inputs. The way its value is calculated during the update of the postsynaptic neuron is defined by the code provided in the <a class="el" href="../../d8/dbb/structpostSynModel.html" title="Structure to hold the information that defines a post-synaptoic model (a model of how synapses affect...">postSynModel</a>. For example, the standard <code>expDecay</code> post-synaptic model defines ps.postSyntoCurrent= String("$(inSyn)*($(E)-$(V))");  which implements a conductance based synapse in which the post-synaptic current is given by <img class="formulaInl" alt="$I_{\rm syn}= g*s*(V_{\rm rev}-V_{\rm post})$" src="../../form_29.png"/>. <dl class="section note"><dt>Note</dt><dd>The <code>addtoinSyn</code> variables from all incoming synapses are automatically summed and added to the current value of <code>inSyn</code>.</dd></dl>
The value resulting from the <code>postSyntoCurrent</code> code is assigned to <code>Isyn</code> and can then be used in neuron simCode like so: <div class="fragment"><div class="line">$(V)+= (-$(V)+$(Isyn))*<a class="code" href="../../d3/dc0/currentModel_8cc.html#a943f07034774ef1261d62cd0d3d1fec9">DT</a> </div>
</div><!-- fragment --></li>
<li><code>sT&lt;neuronName&gt;</code> is the last spike time in a neuron and is automatically generated for pre- and postsynaptic neuron groups of a synapse group i that follows a spike based learning rule (indicated by usesPostLearning[i]= TRUE for the ith synapse population).</li>
</ul>
<p><br />
 </p><hr/>
<p> <a class="el" href="../../dd/de4/sect_postsyn.html">Previous</a> | <a class="el" href="../../de/d4b/ListOfVariables.html">Top</a> | <a class="el" href="../../dd/d51/Credits.html">Next</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/d05/UserManual.html">User Manual</a></li>
    <li class="footer">Generated on Thu Dec 18 2014 21:21:06 for GeNN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
