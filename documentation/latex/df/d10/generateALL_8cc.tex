\hypertarget{generateALL_8cc}{\section{lib/src/generate\+A\+L\+L.cc File Reference}
\label{generateALL_8cc}\index{lib/src/generate\+A\+L\+L.\+cc@{lib/src/generate\+A\+L\+L.\+cc}}
}


Main file combining the code for code generation. Part of the code generation section.  


{\ttfamily \#include \char`\"{}global.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}model\+Spec.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}model\+Spec.\+cc\char`\"{}}\\*
{\ttfamily \#include \char`\"{}generate\+Kernels.\+cc\char`\"{}}\\*
{\ttfamily \#include \char`\"{}generate\+Runner.\+cc\char`\"{}}\\*
{\ttfamily \#include \char`\"{}generate\+C\+P\+U.\+cc\char`\"{}}\\*
{\ttfamily \#include $<$sys/stat.\+h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{generateALL_8cc_a50587c2d6003b7e7161c51fb5492f315}{generate\+\_\+model\+\_\+runner} (\hyperlink{classNNmodel}{N\+Nmodel} \&model, string path)
\begin{DoxyCompactList}\small\item\em This function will call the necessary sub-\/functions to generate the code for simulating a model. \end{DoxyCompactList}\item 
int \hyperlink{generateALL_8cc_a9c3c21bc7440b336138bcb541e4eab79}{choose\+Device} (ostream \&mos, \hyperlink{classNNmodel}{N\+Nmodel} $\ast$\&model, string path)
\begin{DoxyCompactList}\small\item\em Helper function that prepares data structures and detects the hardware properties to enable the code generation code that follows. \end{DoxyCompactList}\item 
int \hyperlink{generateALL_8cc_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Main entry point for the generate\+A\+L\+L executable that generates the code for G\+P\+U and C\+P\+U. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Main file combining the code for code generation. Part of the code generation section. 

The file includes separate files for generating kernels (\hyperlink{generateKernels_8cc}{generate\+Kernels.\+cc}), generating the C\+P\+U side code for running simulations on either the C\+P\+U or G\+P\+U (\hyperlink{generateRunner_8cc}{generate\+Runner.\+cc}) and for C\+P\+U-\/only simulation code (\hyperlink{generateCPU_8cc}{generate\+C\+P\+U.\+cc}). 

\subsection{Function Documentation}
\hypertarget{generateALL_8cc_a9c3c21bc7440b336138bcb541e4eab79}{\index{generate\+A\+L\+L.\+cc@{generate\+A\+L\+L.\+cc}!choose\+Device@{choose\+Device}}
\index{choose\+Device@{choose\+Device}!generate\+A\+L\+L.\+cc@{generate\+A\+L\+L.\+cc}}
\subsubsection[{choose\+Device}]{\setlength{\rightskip}{0pt plus 5cm}int choose\+Device (
\begin{DoxyParamCaption}
\item[{ostream \&}]{mos, }
\item[{{\bf N\+Nmodel} $\ast$\&}]{model, }
\item[{string}]{path}
\end{DoxyParamCaption}
)}}\label{generateALL_8cc_a9c3c21bc7440b336138bcb541e4eab79}


Helper function that prepares data structures and detects the hardware properties to enable the code generation code that follows. 

The main tasks in this function are the detection and characterization of the G\+P\+U device present (if any), choosing which G\+P\+U device to use, finding and appropriate block size, taking note of the major and minor version of the C\+U\+D\+A enabled device chosen for use, and populating the list of standard neuron models. The chosen device number is returned. 
\begin{DoxyParams}{Parameters}
{\em mos} & output stream for messages \\
\hline
{\em model} & the nn model we are generating code for \\
\hline
{\em path} & path the generated code will be deposited \\
\hline
\end{DoxyParams}
\hypertarget{generateALL_8cc_a50587c2d6003b7e7161c51fb5492f315}{\index{generate\+A\+L\+L.\+cc@{generate\+A\+L\+L.\+cc}!generate\+\_\+model\+\_\+runner@{generate\+\_\+model\+\_\+runner}}
\index{generate\+\_\+model\+\_\+runner@{generate\+\_\+model\+\_\+runner}!generate\+A\+L\+L.\+cc@{generate\+A\+L\+L.\+cc}}
\subsubsection[{generate\+\_\+model\+\_\+runner}]{\setlength{\rightskip}{0pt plus 5cm}void generate\+\_\+model\+\_\+runner (
\begin{DoxyParamCaption}
\item[{{\bf N\+Nmodel} \&}]{model, }
\item[{string}]{path}
\end{DoxyParamCaption}
)}}\label{generateALL_8cc_a50587c2d6003b7e7161c51fb5492f315}


This function will call the necessary sub-\/functions to generate the code for simulating a model. 


\begin{DoxyParams}{Parameters}
{\em model} & Model description \\
\hline
{\em path} & Path where the generated code will be deposited \\
\hline
\end{DoxyParams}
\hypertarget{generateALL_8cc_a0ddf1224851353fc92bfbff6f499fa97}{\index{generate\+A\+L\+L.\+cc@{generate\+A\+L\+L.\+cc}!main@{main}}
\index{main@{main}!generate\+A\+L\+L.\+cc@{generate\+A\+L\+L.\+cc}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{generateALL_8cc_a0ddf1224851353fc92bfbff6f499fa97}


Main entry point for the generate\+A\+L\+L executable that generates the code for G\+P\+U and C\+P\+U. 

The main function is the entry point for the code generation engine. It prepares the system and then invokes generate\+\_\+model\+\_\+runner to inititate the different parts of actual code generation. 
\begin{DoxyParams}{Parameters}
{\em argc} & number of arguments; expected to be 2 \\
\hline
{\em argv} & Arguments; expected to contain the target directory for code generation. \\
\hline
\end{DoxyParams}
