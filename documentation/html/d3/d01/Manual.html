<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>GeNN: $title</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em; padding-bottom: 0.5em;" id="projectlogo"><img alt="Logo" src="../../GeNN-logo-55px.gif"/></td>
  <td style="padding-left: 3.5em; padding-bottom: 0.5em;">
   <div id="projectname">GeNN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   <div id="projectbrief">GPU enhanced Neuronal Networks (GeNN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/d01/Manual.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sIntro"></a>
Introduction</h1>
<p>GeNN is a software library for facilitating the simulation of neuronal network models on NVIDIA CUDA enabled GPU hardware. It was designed with computational neuroscience models in mind rather than artificial neural networks. The main philosophy of GeNN is two-fold:</p><ul>
<li>GeNN relies heavily on code generation to make it very flexible and allow adjusting simulation code to the model of interest and the GPU hardware that is detected at compile time.</li>
<li>GeNN is lightweight in that it provides code for running models of neuronal networks on GPU hardware but it leaves it to the user to write a final simulation engine. It so allows maximal flexibility to the user who can use any of the provided code but can fully choose, inspect, extend or otherwise modify the generated code. She can also introduce her own optimisations and in particular control the data flow from and to the GPU in any desired granularity.</li>
</ul>
<p>This User guide gives an overview of how to use GeNN for a novice user and tries to lead the user to more expert use later on. With this we jump right in.</p>
<h1><a class="anchor" id="sect1"></a>
Defining a network model</h1>
<p>A network model is defined by the user by providing the function </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="../../dd/d09/tmp_2model_2MBody__userdef_8cc.html#a9aeaa0a22980484b2c472564fc9f686e">modelDefinition</a>(<a class="code" href="../../dc/de5/classNNmodel.html">NNmodel</a> &amp;<a class="code" href="../../dd/d5c/README_8txt.html#a69fd801b7213948c12d9dd7eebb3ed14">model</a>) </div>
</div><!-- fragment --><p> In this function, the following tasks must be completed:</p><ul>
<li>The name of the model must be defined: <div class="fragment"><div class="line">model.<a class="code" href="../../dc/de5/classNNmodel.html#a757eff2a5877688e6e5492726df035ee">setName</a>(<span class="stringliteral">&quot;MyModel&quot;</span>);</div>
</div><!-- fragment --></li>
<li>neuron populations (at least one) must be added (see <a class="el" href="../../d3/d01/Manual.html#subsect11">Defining neuron populations</a>). The user may add as many neuron populations as she wishes. If resources run out, there will not be a warning but GeNN will fail. All populations should have a unique name.</li>
<li>synapse populations (at least one) must be added (see <a class="el" href="../../d3/d01/Manual.html#subsect12">Defining synapse populations</a>). Again, the number of synaptic connection populations is unlimited other than by resources.</li>
</ul>
<h2><a class="anchor" id="subsect11"></a>
Defining neuron populations</h2>
<p>Neuron populations are added using the function </p><div class="fragment"><div class="line">model.<a class="code" href="../../dc/de5/classNNmodel.html#a24532739d3ae98da3e00a9fe5aadd54e">addNeuronPopulation</a>(<span class="stringliteral">&quot;name&quot;</span>, n, TYPE, para, ini);</div>
</div><!-- fragment --><p> where the arguments are: </p><ul>
<li><code>const</code> <code>char*</code> name: Name of the neuron population </li>
<li><code>int</code> n: number of neurons in the population </li>
<li><code>int</code> TYPE: Type of the neurons, refers to either a standard type (see <a class="el" href="../../d3/d01/Manual.html#sect2">Neuron models</a>) or user-defined type </li>
<li><code>float</code> *para: Parameters of this neuron type </li>
<li><code>float</code> *ini: Initial values for variables of this neuron type</li>
</ul>
<p>The user may add as many neuron populations as the model necessitates. They should all have unique names.</p>
<h2><a class="anchor" id="subsect12"></a>
Defining synapse populations</h2>
<p>Synapse populations are added with the command </p><div class="fragment"><div class="line">model.<a class="code" href="../../dc/de5/classNNmodel.html#a9dceb36a7d36c82adfdb5642df8f25f7">addSynapsePopulation</a>(<span class="stringliteral">&quot;name&quot;</span>, sType, sConn, gType, delaySteps, postSyn, <span class="stringliteral">&quot;preName&quot;</span>, <span class="stringliteral">&quot;postName&quot;</span>, sParam, VpostSyn,PpostSyn);</div>
</div><!-- fragment --><p> where the arguments are </p><ul>
<li><code>const</code> <code>char*</code> name: The name of the synapse population </li>
<li><code>int</code> <code>sType:</code> The type of synapse to be added (i.e. learning mode). See <a class="el" href="../../d3/d01/Manual.html#subsect31">Models</a> below for the available predefined synapse types. </li>
<li><code>int</code> <code>sConn:</code> The type of synaptic connectivity. the options currently are "ALLTOALL", "DENSE", "SPARSE" (see <a class="el" href="../../d3/d01/Manual.html#subsect32">Connectivity types</a> ) </li>
<li><code>int</code> <code>gType:</code> The way how the synaptic conductivity g will be defined. Options are "INDIVIDUALG", "GLOBALG", "INDIVIDUALID". For their meaning, see <a class="el" href="../../d3/d01/Manual.html#subsect33">Conductance definition methods</a> below. </li>
<li><code>int</code> <code>delaySteps:</code> Number of delay slots. </li>
<li><code>int</code> <code>postSyn:</code> Postsynaptic integration method. See <a class="el" href="../../d3/d01/Manual.html#sect_postsyn">Post-synaptic integration methods</a> for predefined types. </li>
<li><code>char*</code> <code>preName:</code> Name of the (existing!) per-synaptic neuron population. </li>
<li><code>char*</code> <code>postName:</code> Name of the (existing!) post-synaptic neuron population. </li>
<li><code>float*</code> <code>sParam:</code> A C-type array of floats that contains parameter values (common to all synapses of the population) which will be used for the defined synapses. The array must contain the right number of parameters in the right order for the chosen synapse type. If too few, segmentation faults will occur, if too many, excess will be ignored.</li>
</ul>
<p>Warnings: 1. If the synapse conductance definition type is "GLOBALG" the global value of the synapse conductances must be set with setSynapseG().</p>
<p>Synaptic update can be done by using true spikes (one point per spike after the threshold) or by using spike events (all points above the threshold).</p>
<h1><a class="anchor" id="sect2"></a>
Neuron models</h1>
<p>There is a number of predefined models which can be chosen in the <code>addNeuronGroup</code> function by their unique cardinal number, starting from 0. For convenience, C constants with readable names are predefined:</p><ul>
<li>0: <a class="el" href="../../d3/d01/Manual.html#sect21">MAPNEURON</a></li>
<li>1: <a class="el" href="../../d3/d01/Manual.html#sect22">POISSONNEURON</a></li>
<li>2: <a class="el" href="../../d3/d01/Manual.html#sect23">TRAUBMILES</a></li>
<li>3: <a class="el" href="../../d3/d01/Manual.html#sect24">IZHIKEVICH</a></li>
<li>4: <a class="el" href="../../d3/d01/Manual.html#sect25">IZHIKEVICH_V</a></li>
</ul>
<h2><a class="anchor" id="sect21"></a>
MAPNEURON (Map Neurons)</h2>
<p>The MAPNEURON type is a map based neuron model as defined in <a class="el" href="../../d0/de3/citelist.html#CITEREF_Rulkov2002">[3]</a> .</p>
<p>It has 2 variables:</p><ul>
<li><code>V</code> - the membrane potential</li>
<li><code>preV</code> - the membrane potential at the previous time step</li>
</ul>
<p>and it has 4 parameters:</p><ul>
<li><code>Vspike</code> - the membrane potential at the top of the spike</li>
<li><code>alpha</code> - determines the shape of the iteration function</li>
<li><code>y</code> - "shift / excitation" parameter, also determines the iteration function</li>
<li><code>beta</code> - roughly regulates the scale of the input into the neuron</li>
</ul>
<h2><a class="anchor" id="sect22"></a>
POISSONNEURON (Poisson Neurons)</h2>
<p>Poisson neurons have constant membrane potential (<code>Vrest</code>) unless they are activated randomly to the <code>Vspike</code> value if (t- <code>SpikeTime</code> ) &gt; <code>trefract</code>.</p>
<p>It has 3 variables:</p>
<ul>
<li><code>V</code> - Membrane potential</li>
<li><code>Seed</code> - Seed for random number generation</li>
<li><code>SpikeTime</code> - Time at which the neuron spiked for the last time</li>
</ul>
<p>and 4 parameters:</p>
<ul>
<li><code>therate</code> - Firing rate</li>
<li><code>trefract</code> - Refractory period</li>
<li><code>Vspike</code> - Membrane potential at spike (mV)</li>
<li><code>Vrest</code> - Membrane potential at rest (mV)</li>
</ul>
<h2><a class="anchor" id="sect23"></a>
TRAUBMILES (Hodgkin-Huxley neurons with Traub &amp; Miles algorithm)</h2>
<p>It has 4 variables:</p>
<ul>
<li><code>V</code> - membrane potential E</li>
<li><code>m</code> - probability for Na channel activation m</li>
<li><code>h</code> - probability for not Na channel blocking h</li>
<li><code>n</code> - probability for K channel activation n</li>
</ul>
<p>and 7 parameters:</p>
<ul>
<li><code>gNa</code> - Na conductance in 1/(mOhms * cm^2)</li>
<li><code>ENa</code> - Na equi potential in mV</li>
<li><code>gK</code> - K conductance in 1/(mOhms * cm^2)</li>
<li><code>EK</code> - K equi potential in mV</li>
<li><code>gl</code> - Leak conductance in 1/(mOhms * cm^2)</li>
<li><code>El</code> - Leak equi potential in mV</li>
<li><code>Cmem</code> - Membrane capacity density in muF/cm^2</li>
</ul>
<h2><a class="anchor" id="sect24"></a>
IZHIKEVICH (Izhikevich neurons with fixed parameters)</h2>
<p>This is the Izhikevich model with fixed parameters <a class="el" href="../../d0/de3/citelist.html#CITEREF_izhikevich2003simple">[1]</a>.</p>
<p>Variables are:</p>
<ul>
<li><code>V</code> - Membrane potential</li>
<li><code>U</code> - Membrane recovery variable</li>
</ul>
<p>Parameters are:</p><ul>
<li><code>a</code> - time scale of U</li>
<li><code>b</code> - sensitivity of U</li>
<li><code>c</code> - after-spike reset value of V</li>
<li><code>d</code> - after-spike reset value of U</li>
</ul>
<h2><a class="anchor" id="sect25"></a>
IZHIKEVICH_V (Izhikevich neurons with variable parameters)</h2>
<p>This is the same model as <a class="el" href="../../d3/d01/Manual.html#sect24">IZHIKEVICH (Izhikevich neurons with fixed parameters)</a> IZHIKEVICH but parameters defined as variables in order to provide a parameter range instead of fixed values for every neuron in the population.</p>
<h2><a class="anchor" id="sect_own"></a>
Defining your own neuron model</h2>
<p>In order to define a new neuron model for use in a GeNN application, it is necessary to populate an object of class <code><a class="el" href="../../d3/d64/structneuronModel.html" title="class (struct) for specifying a neuron model. ">neuronModel</a></code> and append it to the global vector <code>nModels</code>. The <code><a class="el" href="../../d3/d64/structneuronModel.html" title="class (struct) for specifying a neuron model. ">neuronModel</a></code> class has several data members that make up the full description of the neuron model:</p>
<ul>
<li><code>simCode</code> of type <code>string:</code> This needs to be assigned a C++ string that contains the code for executing the integration of the model for one time step. Within this code string, variables need to be referred to by , where NAME is the name of the variable as defined in the vector varNames. The code may refer to the predefined primitives "DT" for the time step size and "Isyn" for the total incoming synaptic current.</li>
<li><code>varNames</code> of type <code>vector&lt;string&gt;</code>: This vector needs to be filled with the names of variables that make up the neuron state. The variables defined here as "NAME" can then be used in the syntax  in the code string.</li>
<li><code>varTypes</code> of type <code>vector&lt;string&gt;</code>: This vector needs to be filled with the variable type (e.g. "float", "double", etc) for the variables defined in <code>varNames</code>. Types and variables are matched to each other by position in the respective vectors.</li>
<li><code>pNames</code> of type <code>vector&lt;string&gt;</code>: This vector will contain the names of parameters relevant to the model. If defined as "NAME" here, they can then be referenced as "$(NAME)" in the code string. The length of this vector determines the expected number of parameters in the initialisation of the neuron model. Parameters are currently assumed to be always of type float.</li>
<li><code>dpNames</code> of type <code>vector&lt;string&gt;</code>: Names of dependant parameters. This is a mechanism for enhanced efficiency for running neuron models. If parameters with model-side meaning, such as time constants or conductances always appear in a certain combination in the model, then it is more efficient to pre-compute the combination and define it as a dependent parameter. This vector contains the names of such dependent parameters.</li>
<li><code>tmpVarNames</code> of type <code>vector&lt;string&gt;</code>: This vector can be used to request additional variables that are not part of the state of the neuron but used only as temporary storage during evaluation of the integration time step.</li>
<li><code>tmpVarTypes</code> of type <code>vector&lt;string&gt;</code>: This vector will contain the variable types of the temporary variables.</li>
</ul>
<p>Once the completed <code><a class="el" href="../../d3/d64/structneuronModel.html" title="class (struct) for specifying a neuron model. ">neuronModel</a></code> object is appended to the <code>nModels</code> vector it can be used in network descriptions by referring to its cardinal number in the nModels vector. I.e., if the model is added as the 4th entry, it would be model "3" (counting starts at 0 in usual C convention). The information of the cardinal number of a new model can be obtained by referring to <code>nModels.size()</code> right before appending the new model.</p>
<p>For dependent parameters in a user-defined model, it is the user's responsibility to intitialize the derived parameters from the relevant entries of the global <code>neuronPara</code> vector entries, to store them in a vector and append this vector to the global vector <code>dnp</code>. This needs to be done right after the call to addNeuronPopulation that involves the neuron model in questions. For an example of what needs to be done, refer to the member function <code>initDerivedNeuronPara()</code> of class <code><a class="el" href="../../dc/de5/classNNmodel.html" title="Structure to hold the information that defines synapse dynamics (a model of how synapse variables cha...">NNmodel</a></code> which does this for Rulkov map neurons.</p>
<h1><a class="anchor" id="sect_explinput"></a>
Explicit current input to neurons</h1>
<p>The user can decide whether a neuron group receives external input current or not in addition to the synaptic input that it receives from the network. External input to a neuron group is activated by calling <code>activateDirectInput</code> function. It receives two arguments: The first argument is the name of the neuron group to receive input current. The second parameter defines the type of input. Current options are:</p>
<ul>
<li>0: NOINP: Neuron group receives no input. This is the value by default when the explicit input is not activated.</li>
<li>1: CONSTINP: All the neurons receive a constant input value. This value may also be defined as a variable.</li>
<li>2: MATINP: Input is read from a file containing the input matrix.</li>
<li>3: INPRULE: Input is defined as a rule. It differs from CONSTINP by the way that the input is injected: CONSTINP creates a value which is modified in real time, hence complex instructions are limited. INPRULE creates an input array which will be copied into the device memory.</li>
</ul>
<h1><a class="anchor" id="sect3"></a>
Synapse models</h1>
<h2><a class="anchor" id="subsect31"></a>
Models</h2>
<p>Currently 3 predefined synapse models are available:</p><ul>
<li>0: <a class="el" href="../../d3/d01/Manual.html#sect31">NSYNAPSE</a></li>
<li>1: <a class="el" href="../../d3/d01/Manual.html#sect32">NGRADSYNAPSE</a></li>
<li>2: <a class="el" href="../../d3/d01/Manual.html#sect33">LEARN1SYNAPSE</a></li>
</ul>
<h3><a class="anchor" id="sect31"></a>
NSYNAPSE (No Learning)</h3>
<p>If this model is selected, no learning rule is applied to the synapse. The model has 3 parameters:</p><ul>
<li><code>tau_S*</code> - decay time constant for S [ms]</li>
<li><code>Epre:</code> Presynaptic threshold potential</li>
<li><code>Erev*</code> - Reversal potential</li>
</ul>
<p>(* DEPRECATED: Decay time constant and reversal potential in synapse parameters are not used anymore and they will be removed in the next release. They should be defined in the postsynaptic mechanisms.)</p>
<h3><a class="anchor" id="sect32"></a>
NGRADSYNAPSE (Graded Synapse)</h3>
<p>In a graded synapse, the conductance is updated gradually with the rule:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ gSyn= g * tanh((E - E_{pre}) / V_{slope} \]" src="../../form_0.png"/>
</p>
<p>The parameters are:</p><ul>
<li><code>Erev*</code>: Reversal potential</li>
<li><code>Epre:</code> Presynaptic threshold potential</li>
<li><code>tau_S*</code>: Decay time constant for S [ms]</li>
<li><code>Vslope:</code> Activation slope of graded release</li>
</ul>
<p>(* DEPRECATED: Decay time constant and reversal potential in synapse parameters are not used anymore and they will be removed in the next release. They should be defined in the postsynaptic mechanisms.)</p>
<h3><a class="anchor" id="sect33"></a>
LEARN1SYNAPSE (Learning Synapse with a Primitive Role)</h3>
<p>This is a simple STDP rule including a time delay for the finite transmission speed of the synapse, defined as a piecewise function.</p>
<p>This model has 13 parameters:</p><ul>
<li><code>Erev:</code> Reversal potential</li>
<li><code>Epre:</code> Presynaptic threshold potential</li>
<li><code>tau_S:</code> Decay time constant for S [ms]</li>
<li><code>TLRN:</code> Time scale of learning changes</li>
<li><code>TCHNG:</code> Width of learning window</li>
<li><code>TDECAY:</code> Time scale of synaptic strength decay</li>
<li><code>TPUNISH10:</code> Time window of suppression in response to 1/0</li>
<li><code>TPUNISH01:</code> Time window of suppression in response to 0/1</li>
<li><code>GMAX:</code> Maximal conductance achievable</li>
<li><code>GMID:</code> Midpoint of sigmoid g filter curve</li>
<li><code>GSLOPE:</code> Slope of sigmoid g filter curve</li>
<li><code>TAUSHiFT:</code> Shift of learning curve</li>
<li><code>GSYN0:</code> Value of syn conductance g decays to</li>
</ul>
<p>For more details, see <a class="el" href="../../d0/de3/citelist.html#CITEREF_nowotny2005self">[2]</a>.</p>
<h3><a class="anchor" id="sect34"></a>
Defining a new synapse model</h3>
<p>There is a way to define a synapse model the same way a <a class="el" href="../../d3/d64/structneuronModel.html" title="class (struct) for specifying a neuron model. ">neuronModel</a> can be defined. This feature is still experimental and supported only with the SpineML and development branches.</p>
<p>A synapse model is a <a class="el" href="../../dd/db7/classweightUpdateModel.html" title="Structure to hold the information that defines a weightupdate model (a model of how spikes affect syn...">weightUpdateModel</a> object which consists of variables, parameters, and three string objects which will be substituted in the code. These three strings are:</p>
<ul>
<li><code>simCode:</code> Simulation code that is used when a true spike is detected (only one point after Vthresh)</li>
<li><code>simCodeEvnt:</code> Simulation code that is used for spike events (all the instances where Vm &gt; Vthres)</li>
<li><code>simLearnPost:</code> Simulation code which is used in the learnSynapsesPost kernel/function, where postsynaptic neuron spikes before the presynaptic neuron in the STDP window. Usually this is simply the conductance update rule defined by the other simCode elements above, with negative timing. This code is needed as simCode and simCodeEnvt are used after spanning the presynaptic spikes, where it is not possible to detect where a postsynaptic neuron fired before the presynaptic neuron.</li>
</ul>
<p>These codes would include update functions for adding up conductances for that neuron model and for changes in conductances for the next time step (learning). Condutance in this code should be referred to as $("G")</p>
<h2><a class="anchor" id="subsect32"></a>
Connectivity types</h2>
<p>If INDIVIDUALG is used with ALLTOALL connectivity, the conductance values are stored in an array called "ftype * gp&lt;synapseName&gt;", defined and initialised in runner.cc in the generated code.</p>
<p>If INDIVIDUALID is used with ALLTOALL connectivity, the connectivity matrix is stored in an array called "unsigned int * gp&lt;synapseName&gt;"</p>
<p>If connectivity is of SPARSE type, connectivity and conductance values are stored in a struct in order to occupy minimum memory needed. The struct Conductance contains 3 array members and one integer member: 1: unsigned int connN: number of connections in the population. This value is needed for allocaton of arrays. 2: floattype * gp: Values of conductances. The indices that correspond to these values are defined in a pre-to-post basis by the following arrays: 4: unsigned int gInd, of size connN: Indices of corresponding postsynaptic neurons concatenated for each presynaptic neuron. 3: unsigned int *gIndInG, of size model.neuronN[model.synapseSource[synInd]]+1: This array defines from which index in the gp array the indices in gInd would correspond to the presynaptic neuron that corresponds to the index of the gIndInG array, with the number of connections being the size of gInd. More specifically, gIndIng[n+1]-gIndIng[n] would give the number of postsynaptic connections for neuron n, and the conductance values are stored in gp[gIndIng[n]] to gp[gIndIng[n]+1]. if there are no connections for a presynaptic neuron, then gp[gIndIng[n]]=gp[gIndIng[n]+1].</p>
<p>For example, consider a network of two presynaptic neurons connected to three postsynaptic neurons: 0th presynaptic neuron connected to 1st and 2nd postsynaptic neurons, the 1st presynaptic neuron connected to 0th and 2nd neurons. The struct Conductance should have these members, with indexing from 0: ConnN = 4 gp= gPre0-Post1 gpre0-post2 gpre1-post0 gpre1-post2 gInd= 1 2 0 2 gIndIng= 0 2 4</p>
<p>See tools/gen_syns_sparse_IzhModel used in Izh_sparse project to see a working example.</p>
<h2><a class="anchor" id="subsect33"></a>
Conductance definition methods</h2>
<p>The available options work as follows:</p><ul>
<li>INDIVIDUALG: When this option is chosen in the <code>addSynapsePopulation</code> command, GeNN reserves an array of size n_pre x n_post float for individual conductance values for each combination of pre and postsynaptic neuron. The actual values of teh conductances are passed at runtime from the user side code, using the <code>copyGToDevice</code> function.</li>
<li>GLOBALG: When this option is chosen, the <code>addSynapsePopulation</code> command must be followed within the <code>modelDefinition</code> function by a call to <code>setSynapseG</code> for this synapse population. This option can only be sensibly combined with connectivity type ALLTOALL.</li>
<li>INDIVIDUALID: When this option is chosen, GeNN expects to use the same maximal conductance for all existing synaptic connections but which synapses exist will be defined at runtime from the user side code. </li>
</ul>
<h1><a class="anchor" id="sect_postsyn"></a>
Post-synaptic integration methods</h1>
<p>The shape of the postsynaptic current can be defined by either using a predefined method or by adding a new <a class="el" href="../../d8/dbb/structpostSynModel.html" title="Structure to hold the information that defines a post-synaptoic model (a model of how synapses affect...">postSynModel</a> object.</p>
<ul>
<li>EXPDECAY: Exponential decay. Decay time constant and reversal potential parameters are needed for this postsynaptic mechanism. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Nov 28 2014 10:58:12 for GeNN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
