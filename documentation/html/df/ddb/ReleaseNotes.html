<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>GeNN: Release Notes for GeNN v2.0</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<!--This is Google Analytics Tracking Code-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-57354659-1', 'auto');
  ga('send', 'pageview');
</script>
<!--End of Google Analytics Tracking Code-->
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em; padding-bottom: 0.5em;" id="projectlogo"><img alt="Logo" src="../../GeNN-logo-55px.gif"/></td>
  <td style="padding-left: 3.5em; padding-bottom: 0.5em;">
   <div id="projectname">GeNN
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">GPU enhanced Neuronal Networks (GeNN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/ddb/ReleaseNotes.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Release Notes for GeNN v2.0 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Version 2.0 of GeNN comes with a lot of improvements and added features, some of which have necessitated some changes to the structure of parameter arrays among others.</p>
<h1><a class="anchor" id="UserChange"></a>
User Side Changes</h1>
<ol type="1">
<li>Users are now required to call "initGeNN()" in the model definition function before adding any populations to the neuronal network model.</li>
<li>glbscnt is now call glbSpkCnt for consistency with glbSpkEvntCnt.</li>
<li>There is no longer a privileged parameter <code>Epre</code>. Spike type events are now defined by a code string <code>spkEvntThreshold</code>, the same way proper spikes are. The only difference is that Spike type events are specific to a synapse type rather than a neuron type.</li>
<li>The function setSynapseG has been deprecated. In a <code>GLOBALG</code> scenario, the variables of a synapse group are set to the initial values provided in modeldefinition.</li>
<li>Due to the split of synaptic models into <a class="el" href="../../dd/db7/classweightUpdateModel.html" title="Structure to hold the information that defines a weightupdate model (a model of how spikes affect syn...">weightUpdateModel</a> and <a class="el" href="../../d8/dbb/structpostSynModel.html" title="Structure to hold the information that defines a post-synaptoic model (a model of how synapses affect...">postSynModel</a>, the parameter arrays used during model definition need to be carefully split as well so that each side gets the right parameters. For example, previously <div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="../../dd/d09/tmp_2model_2MBody__userdef_8cc.html#aae91814eee9533981fe819ddae4671c2">myPNKC_p</a>[3]= {</div>
<div class="line">  0.0,           <span class="comment">// 0 - Erev: Reversal potential</span></div>
<div class="line">  -20.0,         <span class="comment">// 1 - Epre: Presynaptic threshold potential</span></div>
<div class="line">  1.0            <span class="comment">// 2 - tau_S: decay time constant for S [ms]</span></div>
<div class="line">};</div>
</div><!-- fragment --> would define the parameter array of three parameters, <code>Erev</code>, <code>Epre</code>, and <code>tau_S</code> for a synapse of type <code>NSYNAPSE</code>. This now needs to be "split" into <div class="fragment"><div class="line"><span class="keywordtype">float</span> *<a class="code" href="../../dd/d09/tmp_2model_2MBody__userdef_8cc.html#aae91814eee9533981fe819ddae4671c2">myPNKC_p</a>= NULL;</div>
<div class="line"><span class="keywordtype">float</span> <a class="code" href="../../dd/d09/tmp_2model_2MBody__userdef_8cc.html#a0186f2a893745a3325fb929335e73621">postExpPNKC</a>[2]={</div>
<div class="line">  1.0,            <span class="comment">// 0 - tau_S: decay time constant for S [ms]</span></div>
<div class="line">  0.0             <span class="comment">// 1 - Erev: Reversal potential</span></div>
<div class="line">};</div>
</div><!-- fragment --> i.e. parameters <code>Erev</code> and <code>tau_S</code> are moved to the post-synaptic model and its parameter array of two parameters. <code>Epre</code> is discontinued as a parameter for <code>NSYNAPSE</code>. As a consequence the weightupdate model of <code>NSYNAPSE</code> has no parameters and one can pass <code>NULL</code> for the parameter array in <code>addSynapsePopulation</code>. <br />
 The correct parameter lists for all defined neuron and synapse model types are listed in the <a class="el" href="../../dc/d05/UserManual.html">User Manual</a>. <dl class="section note"><dt>Note</dt><dd>If the parameters are not redefined appropriately this will lead to uncontrolled behaviour of models and likely to sgementation faults and crashes.</dd></dl>
</li>
<li>Advanced users can now define variables as type "scalar" when introducing new neuron or synapse types. This will at the code generation stage be translated to the model's floating point type (ftype), <code>float</code> or <code>double</code>. This works for defining variables as well as in all code snippets. Users can also use the expressions "SCALAR_MAX" and "SCALAR_MIN" for "FLT_MIN", "FLT_MAX", "DBL_MIN" and "DBL_MAX", respectively. Corresponding definitions of <code>scalar</code>, <code>SCALAR_MIN</code> and <code>SCALAR_MAX</code> are also available for user-side code whenever the code-generated file <code>runner.cc</code> has been included.</li>
<li>The example projects have been re-organized so that wrapper scripts of the <code>generate_run</code> type are now all located together with the models they run instead of in a common <code>tools</code> directory. Generally the structure now is that each example project contains the wrapper script <code>generate_run</code> and a <code>model</code> subdirectory which contains the model description file and the user side code complete with Makefiles for Unix and Windows operating systems. The generated code will be deposited in the <code>model</code> subdirectory in its own <code>modelname_CODE</code> folder. Simulation results will always be deposited in a new sub-folder of the main project directory.</li>
<li>The <code>addSynapsePopulation(...)</code> function has now more mandatory parameters relating to the introduction of separate weightupdate models (pre-synaptic models) and postynaptic models. The correct syntax for the <code>addSynapsePopulation(...)</code> can be found with detailed explanations in teh <a class="el" href="../../dc/d05/UserManual.html">User Manual</a>.</li>
<li>We have introduced a simple performance profiling method that users can employ to get an overview over the differential use of time by different kernels. To enable the timers in GeNN generated code, one needs to declare <div class="fragment"><div class="line">networkmodel.setTiming(<a class="code" href="../../dc/d25/modelSpec_01_07dhcp-liversidge20_8anu_8edu_8au's_01conflicted_01copy_012014-12-13_08_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
</div><!-- fragment --> This will make available and operate GPU-side cudeEvent based timers whose cumulative value can be found in the double precision variables <code>neuron_tme</code>, <code>synapse_tme</code> and <code>learning_tme</code>. They measure the accumulated time that has been spent calculating the neuron kernel, synapse kernel and learning kernel, respectively. CPU-side timers for the simulation functions are also available and their cumulative values can be obtained through <div class="fragment"><div class="line"><span class="keywordtype">float</span> x= sdkGetTimerValue(&amp;neuron_timer);</div>
<div class="line"><span class="keywordtype">float</span> y= sdkGetTimerValue(&amp;synapse_timer);</div>
<div class="line"><span class="keywordtype">float</span> z= sdkGetTimerValue(&amp;learning_timer);</div>
</div><!-- fragment --> The <a class="el" href="../../d9/d61/Examples.html#ex_mbody">Insect Olfaction Model</a> example shows how these can be used in the user-side code. To enable timing profiling in this example, simply enable it for GeNN: <div class="fragment"><div class="line">model.setTiming(<a class="code" href="../../dc/d25/modelSpec_01_07dhcp-liversidge20_8anu_8edu_8au's_01conflicted_01copy_012014-12-13_08_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
</div><!-- fragment --> in <code>MBody1.cc</code>'s <code>modelDefinition</code> function and define the macro <code>TIMING</code> in <code>classol_sim.h</code> <div class="fragment"><div class="line"><span class="preprocessor">#define TIMING</span></div>
</div><!-- fragment --> This will have the effect that timing information is output into <code>OUTNAME_output/OUTNAME.timingprofile</code>.</li>
</ol>
<h1><a class="anchor" id="developerChange"></a>
Developer Side Changes</h1>
<ol type="1">
<li><code>allocateSparseArrays()</code> has been changed to take the number of connections, connN, as an argument rather than expecting it to have been set in the Connetion struct before the function is called as was the arrangement previously.</li>
<li>For the case of sparse connectivity, there is now a reverse mapping implemented with revers index arrays and a remap array that points to the original positions of variable values in teh forward array. By this mechanism, revers lookups from post to pre synaptic indices are possible but value changes in the sparse array values do only need to be done once.</li>
<li>SpkEvnt code is no longer generated whenever it is not actually used. That is also true on a somewhat finer granularity where variable queues for synapse delays are only maintained if the corresponding variables are used in synaptic code. True spikes on the other hand are always detected in case the user is interested in them.</li>
</ol>
<p><br />
 </p><hr/>
<p> <a class="el" href="../../d9/d61/Examples.html">Previous</a> | <a class="el" href="../../df/ddb/ReleaseNotes.html">Top</a> | <a class="el" href="../../dc/d05/UserManual.html">Next</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Dec 18 2014 21:21:06 for GeNN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
