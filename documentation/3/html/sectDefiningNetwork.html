<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>GeNN: Defining a network model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--This is Google Analytics Tracking Code-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-57354659-1', 'auto');
  ga('send', 'pageview');
</script>
<!--End of Google Analytics Tracking Code-->
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="html_styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em; padding-bottom: 0.5em;" id="projectlogo"><img alt="Logo" src="GeNN-logo-55px.gif"/></td>
  <td style="padding-left: 3.5em; padding-bottom: 0.5em;">
   <div id="projectname">GeNN
   &#160;<span id="projectnumber">3.2.0</span>
   </div>
   <div id="projectbrief">GPU enhanced Neuronal Networks (GeNN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sectDefiningNetwork.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Defining a network model </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A network model is defined by the user by providing the function </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> modelDefinition(<a class="code" href="dc/de5/classNNmodel.html">NNmodel</a> &amp;model) </div></div><!-- fragment --><p> in a separate file, such as <code>MyModel.cc</code>. In this function, the following tasks must be completed:</p>
<ol type="1">
<li>The name of the model must be defined: <div class="fragment"><div class="line">model.<a class="code" href="dc/de5/classNNmodel.html#aba858ed73e029de0366ab23f973b1273">setName</a>(<span class="stringliteral">&quot;MyModel&quot;</span>);</div></div><!-- fragment --></li>
<li>Neuron populations (at least one) must be added (see <a class="el" href="sectDefiningNetwork.html#subsect11">Defining neuron populations</a>). The user may add as many neuron populations as they wish. If resources run out, there will not be a warning but GeNN will fail. However, before this breaking point is reached, GeNN will make all necessary efforts in terms of block size optimisation to accommodate the defined models. All populations must have a unique name.</li>
<li>Synapse populations (zero or more) can be added (see <a class="el" href="sectDefiningNetwork.html#subsect12">Defining synapse populations</a>). Again, the number of synaptic connection populations is unlimited other than by resources.</li>
</ol>
<h1><a class="anchor" id="subsect11"></a>
Defining neuron populations</h1>
<p>Neuron populations are added using the function </p><div class="fragment"><div class="line">model.<a class="code" href="dc/de5/classNNmodel.html#ace4f728c03858ad86dd4d05c7f9a0b9b">addNeuronPopulation</a>&lt;NeuronModel&gt;(name, num, paramValues, varInitialisers);</div></div><!-- fragment --><p> where the arguments are: </p><ul>
<li><code>NeuronModel</code>: Template argument specifying the type of neuron model These should be derived off <a class="el" href="d7/dad/classNeuronModels_1_1Base.html" title="Base class for all neuron models. ">NeuronModels::Base</a> and can either be one of the standard models or user-defined (see <a class="el" href="sectNeuronModels.html">Neuron models</a>). </li>
<li><code>const string &amp;name</code>: Unique name of the neuron population </li>
<li><code>unsigned int size</code>: number of neurons in the population </li>
<li><code>NeuronModel::ParamValues paramValues</code>: Parameters of this neuron type </li>
<li><code>NeuronModel::VarValues varInitialisers</code>: Initial values or initialisation snippets for variables of this neuron type</li>
</ul>
<p>The user may add as many neuron populations as the model necessitates. They must all have unique names. The possible values for the arguments, predefined models and their parameters and initial values are detailed <a class="el" href="sectNeuronModels.html">Neuron models</a> below.</p>
<h1><a class="anchor" id="subsect12"></a>
Defining synapse populations</h1>
<p>Synapse populations are added with the function </p><div class="fragment"><div class="line">model.<a class="code" href="dc/de5/classNNmodel.html#aae817535d08ab6b35ef1e2348b03a37c">addSynapsePopulation</a>&lt;WeightUpdateModel, PostsynapticModel&gt;(name, mType, delay, preName, postName, </div><div class="line">                                                                 weightParamValues, weightVarValues, weightPreVarInitialisers, weightPostVarInitialisers,</div><div class="line">                                                                 postsynapticParamValues, postsynapticVarValues, connectivityInitialiser);</div></div><!-- fragment --><p> where the arguments are </p><ul>
<li><code>WeightUpdateModel</code>: Template parameter specifying the type of weight update model. These should be derived off <a class="el" href="d2/d05/classWeightUpdateModels_1_1Base.html" title="Base class for all weight update models. ">WeightUpdateModels::Base</a> and can either be one of the standard models or user-defined (see <a class="el" href="sectSynapseModels.html">Weight update models</a>). </li>
<li><code>PostsynapticModel</code>: Template parameter specifying the type of postsynaptic integration model. These should be derived off <a class="el" href="d1/d3a/classPostsynapticModels_1_1Base.html" title="Base class for all postsynaptic models. ">PostsynapticModels::Base</a> and can either be one of the standard models or user-defined (see <a class="el" href="sect_postsyn.html">Postsynaptic integration methods</a>). </li>
<li><code>const string &amp;name</code>: The name of the synapse population </li>
<li><code>unsigned int mType</code>: How the synaptic matrix is stored. See <a class="el" href="subsect34.html">Synaptic matrix types</a> for available options. </li>
<li><code>unsigned int delay</code>: Homogeneous (axonal) delay for synapse population (in terms of the simulation time step <code>DT</code>). </li>
<li><code>const string preName</code>: Name of the (existing!) pre-synaptic neuron population. </li>
<li><code>const string postName</code>: Name of the (existing!) post-synaptic neuron population. </li>
<li><code>WeightUpdateModel::ParamValues weightParamValues</code>: The parameter values (common to all synapses of the population) for the weight update model. </li>
<li><code>WeightUpdateModel::VarValues weightVarInitialisers</code>: Initial values or initialisation snippets for the weight update model's state variables </li>
<li><code>WeightUpdateModel::PreVarValues weightPreVarInitialisers</code>: Initial values or initialisation snippets for the weight update model's presynaptic state variables </li>
<li><code>WeightUpdateModel::PostVarValues weightPostVarInitialisers</code>: Initial values or initialisation snippets for the weight update model's postsynaptic state variables </li>
<li><code>PostsynapticModel::ParamValues postsynapticParamValues</code>: The parameter values (common to all postsynaptic neurons) for the postsynaptic model. </li>
<li><code>PostsynapticModel::VarValues postsynapticVarInitialisers</code>: Initial values or initialisation snippets for variables for the postsynaptic model's state variables </li>
<li><code><a class="el" href="dc/ddd/namespaceInitSparseConnectivitySnippet.html#a32be0dc4aea7fc31f0769a76b2f769a2">InitSparseConnectivitySnippet::Init</a> connectivityInitialiser</code>: Optional argument, specifying the initialisation snippet for synapse population's sparse connectivity (see <a class="el" href="sectSparseConnectivityInitialisation.html">Sparse connectivity initialisation</a>).</li>
</ul>
<p>The <a class="el" href="dc/de5/classNNmodel.html#aae817535d08ab6b35ef1e2348b03a37c" title="This function has been depreciated as of GeNN 2.2. ">NNmodel::addSynapsePopulation()</a> function returns a pointer to the newly created <a class="el" href="dc/dfa/classSynapseGroup.html">SynapseGroup</a> object which can be further configured, namely with:</p><ul>
<li><a class="el" href="dc/dfa/classSynapseGroup.html#aab6b2fb0ad30189bc11ee3dd7d48dbb2" title="Sets the maximum number of target neurons any source neurons can connect to. ">SynapseGroup::setMaxConnections()</a> and <a class="el" href="dc/dfa/classSynapseGroup.html#a93b12c08d634f1a2300f1b91ef34ea24" title="Sets the maximum number of source neurons any target neuron can connect to. ">SynapseGroup::setMaxSourceConnections()</a> to configure the maximum number of rows and columns respectively allowed in the synaptic matrix - this can improve performance and reduce memory usage when using <a class="el" href="dd/dd5/synapseMatrixType_8h.html#aedb0946699027562bc78103a5d2a578da2f2130a7d4faf0a2f30162cefd2315f1">SynapseMatrixConnectivity::RAGGED</a> and <a class="el" href="dd/dd5/synapseMatrixType_8h.html#aedb0946699027562bc78103a5d2a578da72cf449160f1923552b008a5a088735c">SynapseMatrixConnectivity::YALE</a> connectivity (see <a class="el" href="subsect34.html">Synaptic matrix types</a>). <dl class="section note"><dt>Note</dt><dd>When using a sparse connectivity initialisation snippet, these values are set automatically.</dd></dl>
</li>
<li><a class="el" href="dc/dfa/classSynapseGroup.html#a220307d4043e8bf1bed07552829f2a17" title="Sets the maximum dendritic delay for synapses in this synapse group. ">SynapseGroup::setMaxDendriticDelayTimesteps()</a> sets the maximum dendritic delay (in terms of the simulation time step <code>DT</code>) allowed for synapses in this population. No values larger than this should be passed to the delay parameter of the <code>addToDenDelay</code> function in user code (see <a class="el" href="sectSynapseModels.html#sect34">Defining a new weight update model</a>).</li>
<li><a class="el" href="dc/dfa/classSynapseGroup.html#a97cfec638d856e6e07628bc19490690c" title="Set how CUDA implementation is parallelised. ">SynapseGroup::setSpanType()</a> sets how incoming spike processing is parallelised for this synapse group. The default <a class="el" href="dc/dfa/classSynapseGroup.html#a3da23a0e726b05a12e95c3d58645b1a2a39711e1ac5d5263471a6184f362dc02f">SynapseGroup::SpanType::POSTSYNAPTIC</a> is nearly always the best option, but <a class="el" href="dc/dfa/classSynapseGroup.html#a3da23a0e726b05a12e95c3d58645b1a2ac583511247567bdc79915d057babba12">SynapseGroup::SpanType::PRESYNAPTIC</a> may perform better when there are large numbers of spikes every timestep or very few postsynaptic neurons.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>If the synapse matrix uses one of the "GLOBALG" types then the global value of the synapse parameters are taken from the initial value provided in <code>weightVarInitialisers</code> therefore these must be constant rather than sampled from a distribution etc.</dd></dl>
<hr/>
<p> <a class="el" href="UserManual.html">Previous</a> | <a class="el" href="sectDefiningNetwork.html">Top</a> | <a class="el" href="sectNeuronModels.html">Next</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="UserManual.html">User Manual</a></li>
    <li class="footer">Generated on Tue Nov 6 2018 10:53:41 for GeNN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
