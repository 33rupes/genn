\hypertarget{generateKernels_8cc}{\section{lib/src/generate\+Kernels.cc File Reference}
\label{generateKernels_8cc}\index{lib/src/generate\+Kernels.\+cc@{lib/src/generate\+Kernels.\+cc}}
}


Contains functions that generate code for C\+U\+D\+A kernels. Part of the code generation section.  


{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include \char`\"{}global.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Code\+Helper.\+cc\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{generateKernels_8cc_af7abf2394f1c518b3df05e059f321766}{name\+\_\+substitutions} (string \&code, string prefix, vector$<$ string $>$ \&names, string postfix=string(\char`\"{}\char`\"{}))
\item 
void \hyperlink{generateKernels_8cc_a5f42d0106240ca1a756cf6612ce46480}{value\+\_\+substitutions} (string \&code, vector$<$ string $>$ \&names, vector$<$ float $>$ \&values)
\item 
void \hyperlink{generateKernels_8cc_a57c82fc7c66a9de7d5241905e419ec6c}{extended\+\_\+name\+\_\+substitutions} (string \&code, string prefix, vector$<$ string $>$ \&names, string ext, string postfix=string(\char`\"{}\char`\"{}))
\item 
void \hyperlink{generateKernels_8cc_adf9a9e57954b42670003f3d7301302e3}{extended\+\_\+value\+\_\+substitutions} (string \&code, vector$<$ string $>$ \&names, string ext, vector$<$ float $>$ \&values)
\item 
void \hyperlink{generateKernels_8cc_ab972aea4f97b659de78edd6c6acc74ef}{gen\+Neuron\+Kernel} (\hyperlink{classNNmodel}{N\+Nmodel} \&model, string \&path, ostream \&mos)
\item 
void \hyperlink{generateKernels_8cc_aeb536bca727f8a56c32af33b12a8447b}{generate\+\_\+process\+\_\+presynaptic\+\_\+events\+\_\+code} (ostream \&os, \hyperlink{classNNmodel}{N\+Nmodel} \&model, unsigned int src, unsigned int trg, int i, string \&local\+I\+D, unsigned int in\+Syn\+No, string postfix)
\begin{DoxyCompactList}\small\item\em Function for generating the C\+U\+D\+A synapse kernel code that handles presynaptic spikes or spike type events. \end{DoxyCompactList}\item 
void \hyperlink{generateKernels_8cc_a8362e93a97ef0fad8a46ca5cc3ee5653}{gen\+Synapse\+Kernel} (\hyperlink{classNNmodel}{N\+Nmodel} \&model, string \&path, ostream \&mos)
\begin{DoxyCompactList}\small\item\em Function for generating a C\+U\+D\+A kernel for simulating all synapses. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
unsigned int \hyperlink{generateKernels_8cc_af198d37883805e3407aa139257c5ec2d}{nt}
\begin{DoxyCompactList}\small\item\em Function for generating the C\+U\+D\+A kernel that simulates all neurons in the model. \end{DoxyCompactList}\item 
short $\ast$ \hyperlink{generateKernels_8cc_ab874b3d8c792b2a5b6657562cdb368de}{is\+Grp\+Var\+Needed}
\item 
\hyperlink{classCodeHelper}{Code\+Helper} \hyperlink{generateKernels_8cc_a528456f8f1feca5714ef5cef70156619}{hlp}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Contains functions that generate code for C\+U\+D\+A kernels. Part of the code generation section. 



\subsection{Function Documentation}
\hypertarget{generateKernels_8cc_a57c82fc7c66a9de7d5241905e419ec6c}{\index{generate\+Kernels.\+cc@{generate\+Kernels.\+cc}!extended\+\_\+name\+\_\+substitutions@{extended\+\_\+name\+\_\+substitutions}}
\index{extended\+\_\+name\+\_\+substitutions@{extended\+\_\+name\+\_\+substitutions}!generate\+Kernels.\+cc@{generate\+Kernels.\+cc}}
\subsubsection[{extended\+\_\+name\+\_\+substitutions}]{\setlength{\rightskip}{0pt plus 5cm}void extended\+\_\+name\+\_\+substitutions (
\begin{DoxyParamCaption}
\item[{string \&}]{code, }
\item[{string}]{prefix, }
\item[{vector$<$ string $>$ \&}]{names, }
\item[{string}]{ext, }
\item[{string}]{postfix = {\ttfamily string(\char`\"{}\char`\"{})}}
\end{DoxyParamCaption}
)}}\label{generateKernels_8cc_a57c82fc7c66a9de7d5241905e419ec6c}
\hypertarget{generateKernels_8cc_adf9a9e57954b42670003f3d7301302e3}{\index{generate\+Kernels.\+cc@{generate\+Kernels.\+cc}!extended\+\_\+value\+\_\+substitutions@{extended\+\_\+value\+\_\+substitutions}}
\index{extended\+\_\+value\+\_\+substitutions@{extended\+\_\+value\+\_\+substitutions}!generate\+Kernels.\+cc@{generate\+Kernels.\+cc}}
\subsubsection[{extended\+\_\+value\+\_\+substitutions}]{\setlength{\rightskip}{0pt plus 5cm}void extended\+\_\+value\+\_\+substitutions (
\begin{DoxyParamCaption}
\item[{string \&}]{code, }
\item[{vector$<$ string $>$ \&}]{names, }
\item[{string}]{ext, }
\item[{vector$<$ float $>$ \&}]{values}
\end{DoxyParamCaption}
)}}\label{generateKernels_8cc_adf9a9e57954b42670003f3d7301302e3}
\hypertarget{generateKernels_8cc_aeb536bca727f8a56c32af33b12a8447b}{\index{generate\+Kernels.\+cc@{generate\+Kernels.\+cc}!generate\+\_\+process\+\_\+presynaptic\+\_\+events\+\_\+code@{generate\+\_\+process\+\_\+presynaptic\+\_\+events\+\_\+code}}
\index{generate\+\_\+process\+\_\+presynaptic\+\_\+events\+\_\+code@{generate\+\_\+process\+\_\+presynaptic\+\_\+events\+\_\+code}!generate\+Kernels.\+cc@{generate\+Kernels.\+cc}}
\subsubsection[{generate\+\_\+process\+\_\+presynaptic\+\_\+events\+\_\+code}]{\setlength{\rightskip}{0pt plus 5cm}void generate\+\_\+process\+\_\+presynaptic\+\_\+events\+\_\+code (
\begin{DoxyParamCaption}
\item[{ostream \&}]{os, }
\item[{{\bf N\+Nmodel} \&}]{model, }
\item[{unsigned int}]{src, }
\item[{unsigned int}]{trg, }
\item[{int}]{i, }
\item[{string \&}]{local\+I\+D, }
\item[{unsigned int}]{in\+Syn\+No, }
\item[{string}]{postfix}
\end{DoxyParamCaption}
)}}\label{generateKernels_8cc_aeb536bca727f8a56c32af33b12a8447b}


Function for generating the C\+U\+D\+A synapse kernel code that handles presynaptic spikes or spike type events. 


\begin{DoxyParams}{Parameters}
{\em os} & output stream for code \\
\hline
{\em model} & the neuronal network model to generate code for \\
\hline
{\em src} & the number of the src neuron population \\
\hline
{\em trg} & the number of the target neuron population \\
\hline
{\em i} & the index of the synapse group being processed \\
\hline
{\em local\+I\+D} & the variable name of the local I\+D of the thread within the synapse group \\
\hline
{\em in\+Syn\+No} & the I\+D number of the current synapse population as the incoming population to the target neuron population \\
\hline
{\em postfix} & whether to generate code for true spikes or spike type events \\
\hline
\end{DoxyParams}
\hypertarget{generateKernels_8cc_ab972aea4f97b659de78edd6c6acc74ef}{\index{generate\+Kernels.\+cc@{generate\+Kernels.\+cc}!gen\+Neuron\+Kernel@{gen\+Neuron\+Kernel}}
\index{gen\+Neuron\+Kernel@{gen\+Neuron\+Kernel}!generate\+Kernels.\+cc@{generate\+Kernels.\+cc}}
\subsubsection[{gen\+Neuron\+Kernel}]{\setlength{\rightskip}{0pt plus 5cm}void gen\+Neuron\+Kernel (
\begin{DoxyParamCaption}
\item[{{\bf N\+Nmodel} \&}]{model, }
\item[{string \&}]{path, }
\item[{ostream \&}]{mos}
\end{DoxyParamCaption}
)}}\label{generateKernels_8cc_ab972aea4f97b659de78edd6c6acc74ef}
Binary flag for the sparse synapses to use atomic operations when the number of connections is bigger than the block size, and shared variables otherwise 
\begin{DoxyParams}{Parameters}
{\em model} & Model description \\
\hline
{\em path} & path for code output \\
\hline
{\em mos} & output stream for messages \\
\hline
\end{DoxyParams}
\hypertarget{generateKernels_8cc_a8362e93a97ef0fad8a46ca5cc3ee5653}{\index{generate\+Kernels.\+cc@{generate\+Kernels.\+cc}!gen\+Synapse\+Kernel@{gen\+Synapse\+Kernel}}
\index{gen\+Synapse\+Kernel@{gen\+Synapse\+Kernel}!generate\+Kernels.\+cc@{generate\+Kernels.\+cc}}
\subsubsection[{gen\+Synapse\+Kernel}]{\setlength{\rightskip}{0pt plus 5cm}void gen\+Synapse\+Kernel (
\begin{DoxyParamCaption}
\item[{{\bf N\+Nmodel} \&}]{model, }
\item[{string \&}]{path, }
\item[{ostream \&}]{mos}
\end{DoxyParamCaption}
)}}\label{generateKernels_8cc_a8362e93a97ef0fad8a46ca5cc3ee5653}


Function for generating a C\+U\+D\+A kernel for simulating all synapses. 

This functions generates code for global variables on the G\+P\+U side that are synapse-\/related and the actual C\+U\+D\+A kernel for simulating one time step of the synapses. $<$ \char`\"{}id\char`\"{} if first synapse group, else \char`\"{}lid\char`\"{}. lid =(thread index-\/ last thread of the last synapse group) 
\begin{DoxyParams}{Parameters}
{\em model} & Model description \\
\hline
{\em path} & Path for code output \\
\hline
{\em mos} & output stream for messages \\
\hline
\end{DoxyParams}
\hypertarget{generateKernels_8cc_af7abf2394f1c518b3df05e059f321766}{\index{generate\+Kernels.\+cc@{generate\+Kernels.\+cc}!name\+\_\+substitutions@{name\+\_\+substitutions}}
\index{name\+\_\+substitutions@{name\+\_\+substitutions}!generate\+Kernels.\+cc@{generate\+Kernels.\+cc}}
\subsubsection[{name\+\_\+substitutions}]{\setlength{\rightskip}{0pt plus 5cm}void name\+\_\+substitutions (
\begin{DoxyParamCaption}
\item[{string \&}]{code, }
\item[{string}]{prefix, }
\item[{vector$<$ string $>$ \&}]{names, }
\item[{string}]{postfix = {\ttfamily string(\char`\"{}\char`\"{})}}
\end{DoxyParamCaption}
)}}\label{generateKernels_8cc_af7abf2394f1c518b3df05e059f321766}
\hypertarget{generateKernels_8cc_a5f42d0106240ca1a756cf6612ce46480}{\index{generate\+Kernels.\+cc@{generate\+Kernels.\+cc}!value\+\_\+substitutions@{value\+\_\+substitutions}}
\index{value\+\_\+substitutions@{value\+\_\+substitutions}!generate\+Kernels.\+cc@{generate\+Kernels.\+cc}}
\subsubsection[{value\+\_\+substitutions}]{\setlength{\rightskip}{0pt plus 5cm}void value\+\_\+substitutions (
\begin{DoxyParamCaption}
\item[{string \&}]{code, }
\item[{vector$<$ string $>$ \&}]{names, }
\item[{vector$<$ float $>$ \&}]{values}
\end{DoxyParamCaption}
)}}\label{generateKernels_8cc_a5f42d0106240ca1a756cf6612ce46480}


\subsection{Variable Documentation}
\hypertarget{generateKernels_8cc_a528456f8f1feca5714ef5cef70156619}{\index{generate\+Kernels.\+cc@{generate\+Kernels.\+cc}!hlp@{hlp}}
\index{hlp@{hlp}!generate\+Kernels.\+cc@{generate\+Kernels.\+cc}}
\subsubsection[{hlp}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Code\+Helper} hlp}}\label{generateKernels_8cc_a528456f8f1feca5714ef5cef70156619}
\hypertarget{generateKernels_8cc_ab874b3d8c792b2a5b6657562cdb368de}{\index{generate\+Kernels.\+cc@{generate\+Kernels.\+cc}!is\+Grp\+Var\+Needed@{is\+Grp\+Var\+Needed}}
\index{is\+Grp\+Var\+Needed@{is\+Grp\+Var\+Needed}!generate\+Kernels.\+cc@{generate\+Kernels.\+cc}}
\subsubsection[{is\+Grp\+Var\+Needed}]{\setlength{\rightskip}{0pt plus 5cm}short$\ast$ is\+Grp\+Var\+Needed}}\label{generateKernels_8cc_ab874b3d8c792b2a5b6657562cdb368de}
\hypertarget{generateKernels_8cc_af198d37883805e3407aa139257c5ec2d}{\index{generate\+Kernels.\+cc@{generate\+Kernels.\+cc}!nt@{nt}}
\index{nt@{nt}!generate\+Kernels.\+cc@{generate\+Kernels.\+cc}}
\subsubsection[{nt}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int nt}}\label{generateKernels_8cc_af198d37883805e3407aa139257c5ec2d}


Function for generating the C\+U\+D\+A kernel that simulates all neurons in the model. 

The code generated upon execution of this function is for defining G\+P\+U side global variables that will hold model state in the G\+P\+U global memory and for the actual kernel function for simulating the neurons for one time step. 