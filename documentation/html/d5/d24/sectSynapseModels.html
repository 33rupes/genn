<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>GeNN: Synapse models</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<!--This is Google Analytics Tracking Code-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-57354659-1', 'auto');
  ga('send', 'pageview');
</script>
<!--End of Google Analytics Tracking Code-->
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em; padding-bottom: 0.5em;" id="projectlogo"><img alt="Logo" src="../../GeNN-logo-55px.gif"/></td>
  <td style="padding-left: 3.5em; padding-bottom: 0.5em;">
   <div id="projectname">GeNN
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">GPU enhanced Neuronal Networks (GeNN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d24/sectSynapseModels.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Synapse models </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A synapse model is a <a class="el" href="../../dd/db7/classweightUpdateModel.html" title="Structure to hold the information that defines a weightupdate model (a model of how spikes affect syn...">weightUpdateModel</a> object which consists of variables, parameters, and string objects which will be substituted in the code. The three strings that will be substituted in the code for synapse update are:</p>
<ul>
<li><code>simCode:</code> Simulation code that is used when a true spike is detected. The update is performed only once, one time step after threshold condition detection, which is defined by <code>thresholdConditionCode</code> in the neuron model of the corresponding presynaptic neuron population.</li>
</ul>
<p>Typically, spikes lead to update of synaptic variables that then lead to the activation of input into the post-synaptic neuron. Most of the ime these inputs add linearly at the post-synaptic neuron. This is assumed in GeNN and the term to be added to the activation of the post-synaptic neuron should be provided as the value of the by the $(addtoinsyn) snippet. For example </p><div class="fragment"><div class="line"><span class="stringliteral">&quot;\$(addtoinsyn) = $(inc);&quot;</span></div>
</div><!-- fragment --><p> where "inc" is a parameter of the weightupdate model, would define a constant increment of the synaptic input of a post-synaptic neuron for each pre-synaptic spike.</p>
<p>When a spike is detected in the presynaptic neuron population, the simCode is executed. Within the code snippet the $(addtoinSyn) update just discussed should be be followed by the $(updatelinsyn) keyword to indicate that the summation of synaptic inputs can now occur. This can then be followed by updates on the internal synapse variables that may have contributed to addtoinSyn. For an example, see <a class="el" href="../../d5/d24/sectSynapseModels.html#sect31">NSYNAPSE (No Learning)</a> for a simple synapse update model and <a class="el" href="../../d5/d24/sectSynapseModels.html#sect33">LEARN1SYNAPSE (Learning Synapse with a Primitive Role)</a> for a more complicated model that uses STDP.</p>
<ul>
<li><code>simCodeEvnt:</code> Simulation code that is used for spike like events, where updates are done for all instances in which the event condition defined by <code>evntThreshold</code> is met. <code>evntThreshold</code> is also be provided as a code string. For an example, see <a class="el" href="../../d5/d24/sectSynapseModels.html#sect32">NGRADSYNAPSE (Graded Synapse)</a>.</li>
<li><code>simLearnPost:</code> Simulation code which is used in the learnSynapsesPost kernel/function, which performs updates to synapses that are triggered by post-synaptic spikes. This is rather unusual other than in learning rules like e.g. STDP. For an example that uses <code>simLearnPost</code>, see <a class="el" href="../../d5/d24/sectSynapseModels.html#sect33">LEARN1SYNAPSE (Learning Synapse with a Primitive Role)</a>.</li>
<li><code>synapseDynamics:</code> Simulation code that applies for every time step, i.e.is unlike the others not gated with a condition. This can be used where synapses have internal variables and dynamics that are described in continuous time, e.g. by ODEs. Usng this mechnanism is typically computationally veruy costly because of the large number of synapses in a typical network.</li>
</ul>
<p>All code snippets can be used to manipulate any synapse variable and so implement both synaptic dynamics and learning processes.</p>
<h1><a class="anchor" id="subsect31"></a>
Built-in Models</h1>
<p>Currently 3 predefined synapse models are available:</p><ul>
<li><a class="el" href="../../d5/d24/sectSynapseModels.html#sect31">NSYNAPSE</a></li>
<li><a class="el" href="../../d5/d24/sectSynapseModels.html#sect32">NGRADSYNAPSE</a></li>
<li><a class="el" href="../../d5/d24/sectSynapseModels.html#sect33">LEARN1SYNAPSE</a></li>
</ul>
<p>These are defined in <code>lib.include/utils.h</code>. The <code>MBody_userdef</code> example also includes a modified version of these models as user-defined models.</p>
<h1><a class="anchor" id="sect31"></a>
NSYNAPSE (No Learning)</h1>
<p>If this model is selected, no learning rule is applied to the synapse and for each pre-synaptic spikes the synaptic conductances are simply added to the postsynaptic input variable. The model has 1 variable:</p><ul>
<li><code>g</code> - conductance of <code>scalar</code> type</li>
</ul>
<p>and no other parameters.</p>
<p><code>simCode</code> is:</p>
<div class="fragment"><div class="line"><span class="stringliteral">&quot; $(addtoinSyn) = $(g);\n\</span></div>
<div class="line"><span class="stringliteral">  $(updatelinsyn);\n&quot;</span></div>
</div><!-- fragment --><h1><a class="anchor" id="sect32"></a>
NGRADSYNAPSE (Graded Synapse)</h1>
<p>In a graded synapse, the conductance is updated gradually with the rule:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ gSyn= g * tanh((V - E_{pre}) / V_{slope} \]" src="../../form_20.png"/>
</p>
<p> whenever the membrane potential <img class="formulaInl" alt="$V$" src="../../form_21.png"/> is larger than the threshold <img class="formulaInl" alt="$E_{pre}$" src="../../form_22.png"/>. The model has 1 variable:</p><ul>
<li><code>g:</code> conductance of <code>scalar</code> type</li>
</ul>
<p>The parameters are:</p><ul>
<li><code>Epre:</code> Presynaptic threshold potential</li>
<li><code>Vslope:</code> Activation slope of graded release</li>
</ul>
<p><code>simCodeEvnt</code> is:</p>
<div class="fragment"><div class="line"><span class="stringliteral">&quot; $(addtoinSyn) = $(g)* tanh(($(V_pre)-($(Epre)))*DT*2/$(Vslope));\n\</span></div>
<div class="line"><span class="stringliteral">  $(updatelinsyn);\n&quot;</span></div>
</div><!-- fragment --><p><code>evntThreshold</code> is:</p>
<div class="fragment"><div class="line"><span class="stringliteral">&quot; $(V_pre) &gt; $(Epre)&quot;</span></div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The pre-synaptic variables are referenced with the suffix <code>_pre</code> in synapse related code such as an <code>evntThreshold</code>. Users can also access post-synaptic neuron variables using the suffix <code>_post</code>.</dd></dl>
<h1><a class="anchor" id="sect33"></a>
LEARN1SYNAPSE (Learning Synapse with a Primitive Role)</h1>
<p>This is a simple STDP rule including a time delay for the finite transmission speed of the synapse, defined as a piecewise function.</p>
<p>The model has 2 variables:</p><ul>
<li><code>g:</code> conductance of <code>scalar</code> type</li>
<li><code>gRaw:</code> raw conductance of <code>scalar</code> type</li>
</ul>
<p>Parameters are:</p><ul>
<li><code>Epre:</code> Presynaptic threshold potential</li>
<li><code>tLrn:</code> Time scale of learning changes</li>
<li><code>tChng:</code> Width of learning window</li>
<li><code>tDecay:</code> Time scale of synaptic strength decay</li>
<li><code>tPunish10:</code> Time window of suppression in response to 1/0</li>
<li><code>tPunish01:</code> Time window of suppression in response to 0/1</li>
<li><code>gMax:</code> Maximal conductance achievable</li>
<li><code>gMid:</code> Midpoint of sigmoid g filter curve</li>
<li><code>gSlope:</code> Slope of sigmoid g filter curve</li>
<li><code>tauShift:</code> Shift of learning curve</li>
<li><code>gSyn0:</code> Value of syn conductance g decays to</li>
</ul>
<p>For more details about these built-in synapse models, see <a class="el" href="../../d0/de3/citelist.html#CITEREF_nowotny2005self">[2]</a>.</p>
<h1><a class="anchor" id="sect33"></a>
LEARN1SYNAPSE (Learning Synapse with a Primitive Role)</h1>
<p>If users want to define their own models, they can add a new <code><a class="el" href="../../dd/db7/classweightUpdateModel.html" title="Structure to hold the information that defines a weightupdate model (a model of how spikes affect syn...">weightUpdateModel</a></code> that includes the variables, parameters, and update codes as desired, and then push this object in the <code>weightUpdateModels</code> vector. The model can be used by referring to its index in the <code>weightUpdateModels</code> vector when adding a new population by with a call to <code>addSynapsePopulation</code>.</p>
<h1><a class="anchor" id="subsect34"></a>
Conductance definition methods</h1>
<p>The available options work as follows:</p><ul>
<li><code>INDIVIDUALG:</code> When this option is chosen in the <code>addSynapsePopulation</code> command, GeNN reserves an array of size n_pre x n_post float for individual conductance values for each combination of pre and postsynaptic neuron. The actual values of the conductances are passed at runtime from the user side code, using the <code>pushXXXXXToDevice</code> function, where XXXX is the name of the synapse population.</li>
<li><code>GLOBALG:</code> When this option is chosen, the value of the variables of the synapse model (including its conductance) is taken to be the initial value provided for the synapse model's variables. This option can only be sensibly combined with connectivity type ALLTOALL.</li>
<li><code>INDIVIDUALID:</code> When this option is chosen, GeNN expects to use the same maximal conductance for all existing synaptic connections but which synapses exist will be defined at runtime from the user side code, provided as a binary array (see <a class="el" href="../../d9/d61/Examples.html#ex_mbody">Insect olfaction model</a>).</li>
</ul>
<h1><a class="anchor" id="subsect32"></a>
Connectivity types</h1>
<p>If <code>INDIVIDUALG</code> is used with <code>ALLTOALL</code> or <code>DENSE</code> connectivity (these are equivalent in this case), synapse variables are stored in an array of size npre * npost .</p>
<p>If the connectivity is of SPARSE type, connectivity indices are stored in a struct named SparseProjection in order to minimize the memory equirements. The struct SparseProjection contains the following members: 1: unsigned int connN: number of connections in the population. This value is needed for allocation of arrays. The indices that correspond to these values are defined in a pre-to-post basis by the following arrays: 2: unsigned int ind, of size connN: Indices of corresponding postsynaptic neurons concatenated for each presynaptic neuron. 3: unsigned int *indInG, of size model.neuronN[model.synapseSource[synInd]]+1: This array defines from which index in the synapse variable array the indices in ind would correspond to the presynaptic neuron that corresponds to the index of the indInG array, with the number of connections being the size of ind. More specifically, indIng[n+1]-indIng[n] would give the number of postsynaptic connections for neuron n.</p>
<p>For example, consider a network of two presynaptic neurons connected to three postsynaptic neurons: 0th presynaptic neuron connected to 1st and 2nd postsynaptic neurons, the 1st presynaptic neuron connected to 0th and 2nd neurons. The struct SparseProjection should have these members, with indexing from 0: </p><pre class="fragment">    ConnN = 4

    ind= [1 2 0 2]

    indIng= [0 2 4]  
</pre><p>A synapse variable of a sparsely connected synapse will be kept in an array using this conductance for indexing. For example, a variable caled <code>g</code> will be kept in an array such as: g= [g_Pre0-Post1 g_pre0-post2 g_pre1-post0 g_pre1-post2] If there are no connections for a presynaptic neuron, then g[indIng[n]]=gp[indIng[n]+1].</p>
<p>See tools/gen_syns_sparse_IzhModel used in Izh_sparse project to see a working example.</p>
<h1><a class="anchor" id="sect_postsyn"></a>
Postsynaptic integration methods</h1>
<p>The <a class="el" href="../../d8/dbb/structpostSynModel.html" title="Structure to hold the information that defines a post-synaptic model (a model of how synapses affect ...">postSynModel</a> defines how synaptic activation translates into an input current (or other input term for models that are not current based). It also can contain equations defining dynamics that are applied to the (summed) synaptic activation, e.g. an exponential decay over time.</p>
<p>A <a class="el" href="../../d8/dbb/structpostSynModel.html" title="Structure to hold the information that defines a post-synaptic model (a model of how synapses affect ...">postSynModel</a> object consists of variables, parameters, derived parameters and two strings that define the code for current generation and continuous dynamics.</p>
<ul>
<li>string <code>postSynDecay:</code> This code defines the continuous time dynamics of the summed presynaptic inputs at the postsynaptic neuron. This usually consists of some kind of decay function.</li>
<li>string <code>postSyntoCurrent:</code> This code defines how the synaptic inputs lead to an input input current (Isyn) to the postsynaptic neuron.</li>
</ul>
<p>There are currently 2 built-in postsynaptic integration methods:</p>
<p>EXPDECAY: Exponential decay. Decay time constant and reversal potential parameters are needed for this postsynaptic mechanism.</p>
<p>This model has no variables and two parameters:</p>
<ul>
<li><code>tau</code> : Decay time constant</li>
<li><code>E</code> : Reversal potential</li>
</ul>
<p><code>tau</code> is used by the derived parameter <code>expdecay</code> which returns expf(-dt/tau).</p>
<p>IZHIKEVICH_PS: Empty postsynaptic rule to be used with Izhikevich neurons. <br />
</p>
<hr/>
<p> <a class="el" href="../../d5/d24/sectSynapseModels.html">Previous</a> | <a class="el" href="../../d5/d24/sectSynapseModels.html#sect_postsyn">Top</a> | <a class="el" href="../../d0/da6/UserGuide.html#ListOfVariables">Next</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/d05/UserManual.html">User Manual</a></li>
    <li class="footer">Generated on Fri Nov 6 2015 22:13:01 for GeNN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
